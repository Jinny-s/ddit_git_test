<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Cart-Mapper">
	
<!-- 	<select id="selectProduct" parameterType="int" resultType="product"> -->
<!-- 		select * -->
<!-- 		from product -->
<!-- 		where pno = #{pno} -->
<!-- 	</select> -->
<!-- 	<sql id="cnoByid"> -->
<!-- 		<if test="id != null"> -->
<!-- 			and id = #{id} -->
<!-- 		</if> -->
<!-- 	</sql> -->
	
	<select id="selectCartListByUser" resultType="cart">
		select *
		from cart
		where id=#{id}
<!-- 		where cno is not null -->
<!-- 		<include refid="cnoByid" /> -->
		order by cno asc
	</select>
	
	<select id="selectCartSeqNextValue" resultType="int">
		select cart_seq.nextval
		from dual
	</select>
	
	<update id="insertCart">
		insert into cart
		(cno, pno, pname, qty)
		values
		(#{cno}, #{pno}, #{pname}, #{qty})
	</update>
	
	<update id="updateCart">
		update cart
		set qty = #{qty}
		where cno = #{cno}
	</update>
	
	<update id="deleteCart">
		delete from cart
		where cno = #{cno}
	</update>
	
	<update id="qtyChange">
		update cart
		set qty = #{qty}
		where cno = #{cno}
	</update>
	
	<select id="selectCartByCno" resultType="cart">
      select *
      from cart
      where cno = #{cno}
   </select>
   
   <select id="selectCartLictCount" resultType="int">
      select count(*)
      from cart
   </select>
</mapper>